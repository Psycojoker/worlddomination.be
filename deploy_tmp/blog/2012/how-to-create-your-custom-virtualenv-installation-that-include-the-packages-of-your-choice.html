

<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

	<head>

		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<title>
			
			WorldDomination.be : blog : How to create your custom virtualenv installation that include the packages of your choice
			
		</title>

		

		<link href="/blog/atom.xml" rel="alternate" title="WorldDomination.be" type="application/atom+xml"/>

		

		

		<link rel="stylesheet" href="/media/css/base.css" type="text/css" media="screen" charset="utf-8">

		
		
		
		
		
		

		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js"></script>

		
		
		
		

	</head>

	<body>

		<div id="site">	

			<div id="header">
    <a href="/index.html">
        <h1>WorldDomination.be</h1>
    </a>
    <p>A blog about my mess</p>
</div>




<ul class="breadcrumbs">
	
		<li>
			<a href="/index.html">Worlddominationbe</a>

			
				
				<span class="separator">&gt;</span>
				
			
		</li>
	
		<li>
			<a href="/blog/blog.html">Blog</a>

			
				
				<span class="separator">&gt;</span>
				
			
		</li>
	
		<li>
			<a href="/blog/2012/2012.html">2012</a>

			
		</li>
	
</ul>
    









<div id="sitenav">
    <ul>
        <li>
            <a href="/index.html">Home</a>
        </li>

        
            <li class="selected" >
                <a href="/blog/blog.html">
                    Blog
                </a>
            </li>
        
            <li>
                <a href="/about/about.html">
                    About
                </a>
            </li>
        
    </ul>
</div>





			



<div id="content-header">
    <h1>How to create your custom virtualenv installation that include the packages of your choice</h1>
</div>

<div id="post-content">
	

	<!-- Hyde::Article::Begin -->

<!-- Hyde::Excerpt::Begin -->

<p>I use <a href="http://www.virtualenv.org/en/latest/index.html">virtualenv</a> all the time, for every new project, for every lib or project I test. I also use <a href="http://ipython.org/">ipython</a> and <a href="https://github.com/gotcha/ipdb">ipdb</a> all the time (and <a href="https://www.djangoproject.com/">django</a> nearly all the&nbsp;time).</p>
<p>Problem: ipython, ipdb and django aren't shipped by virtualenv and installing them took some time that break my flow when I need&nbsp;them.</p>
<p>Luckily, mitsuhiko has release <a href="https://github.com/fireteam/virtualenv-tools">virtualenv-tools</a> that allow you to update the path of a copied&nbsp;virtualenv.</p>
<p>Some small shell scripting later and here is the&nbsp;result:</p>
<blockquote  style="background-color:#313031; color:#ffffff">
mkve&nbsp;()<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;[ -e&nbsp;<font color="#d7afd7">&quot;</font><font color="#d75f5f">$(</font><font color="#ffd787"><b>which</b></font><font color="#d7afd7">&nbsp;pip</font><font color="#d75f5f">)</font><font color="#d7afd7">&quot;</font>&nbsp;]&nbsp;<font color="#ffd787"><b>||</b></font>&nbsp;(<font color="#ffd787"><b>echo</b></font>&nbsp;<font color="#d7afd7">&quot;</font><font color="#d7afd7">installing pip</font><font color="#d7afd7">&quot;</font>;&nbsp;sudo aptitude install python-pip)<br>
&nbsp;&nbsp;&nbsp;&nbsp;[ -e&nbsp;<font color="#d7afd7">&quot;</font><font color="#d75f5f">$(</font><font color="#ffd787"><b>which</b></font><font color="#d7afd7">&nbsp;virtualenv</font><font color="#d75f5f">)</font><font color="#d7afd7">&quot;</font>&nbsp;]&nbsp;<font color="#ffd787"><b>||</b></font>&nbsp;(<font color="#ffd787"><b>echo</b></font>&nbsp;<font color="#d7afd7">&quot;</font><font color="#d7afd7">installing pip</font><font color="#d7afd7">&quot;</font>;&nbsp;sudo pip install virtualenv)<br>
&nbsp;&nbsp;&nbsp;&nbsp;[ -e&nbsp;<font color="#d7afd7">&quot;</font><font color="#d75f5f">$(</font><font color="#ffd787"><b>which</b></font><font color="#d7afd7">&nbsp;virtualenv-tools</font><font color="#d75f5f">)</font><font color="#d7afd7">&quot;</font>&nbsp;]&nbsp;<font color="#ffd787"><b>||</b></font>&nbsp;(<font color="#ffd787"><b>echo</b></font>&nbsp;<font color="#d7afd7">&quot;</font><font color="#d7afd7">installing virtualenv-tools</font><font color="#d7afd7">&quot;</font>;&nbsp;sudo pip install virtualenv-tools)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffd787"><b>if</b></font>&nbsp;[ ! -e ~/.myvirtualenv/ ]<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffd787"><b>then</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;virtualenv --distribute ~/.myvirtualenv/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~/.myvirtualenv/bin/pip install ipdb django django_pdb django_extensions django_debug_toolbar<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffd787"><b>fi</b></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;cp -r ~/.myvirtualenv/ ve<br>
&nbsp;&nbsp;&nbsp;&nbsp;virtualenv-tools --update-path&nbsp;<font color="#d75f5f">$(</font><font color="#ffd787"><b>pwd</b></font><font color="#d75f5f">)</font>/ve ve<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ffd787"><b>source</b></font>&nbsp;ve/bin/activate<br>
}<br>
</blockquote>

<p>Just type mkve, it will check that you have everything needed installed then build the virtualenv if it isn't there, install the packages in it then copy this virtualenv to your current directory, update its paths and activate&nbsp;it.</p>
<p>It's even faster than to build a new virtualenv (once the global virtualenv is&nbsp;created).</p>
<!-- Hyde::Excerpt::End -->

<!-- Hyde::Article::End -->

	
</div>





			<div id='footer'>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</div>


		</div>

	</body>

</html>

